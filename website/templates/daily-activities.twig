{% extends "layouts/logged.twig" %}

{% block title %}Invoice Problem Resolver - time spent reports, time tracking{% endblock %}


{% block styles %}
    {{ parent() }}
    <link rel="stylesheet" href="/css/daily-activities.css">
{% endblock %}
{% block content %}
    <!-- Statistics Section -->
    <div class="pure-u-1-1 pure-u-md-6-24">
        <div class="statistics-container">
            <h2>Statistics</h2>
            <div class="divider"></div>
            <h3>This Month</h3>
            <ul>
                <li>Worked Hours: <strong>120</strong></li>
                <li>Vacation Days: <strong>5</strong></li>
                <li>Sick Leave Days: <strong>2</strong></li>
            </ul>
            <div class="divider"></div>
            <h3>Previous Month</h3>
            <ul>
                <li>Worked Hours: <strong>100</strong></li>
                <li>Vacation Days: <strong>3</strong></li>
                <li>Sick Leave Days: <strong>1</strong></li>
            </ul>
            <div class="divider"></div>
            <h3>This Year</h3>
            <ul>
                <li>Worked Days: <strong>200</strong></li>
                <li>Vacation Days: <strong>15</strong></li>
                <li>Sick Leave Days: <strong>5</strong></li>
            </ul>
        </div>
    </div>
    <!-- Activities Section -->
    <div class="pure-u-1-1 pure-u-md-18-24">
        <div class="activity-container">
            <div class="activity-header pure-g">
                <div class="pure-u-1-4 pure-u-md-20-24"></div>
                <div class="pure-u-2-3 pure-u-md-4-24 add-activity-button-container">
                    <button class="pure-button button-large add-activity-button">+ Create</button>
                </div>
            </div>
            <div class="activity-header pure-g hide-on-sm">
                <div class="hide-on-sm pure-u-md-3-24"><span>Project</span></div>
                <div class="hide-on-sm pure-u-md-3-24"><span>Type</span></div>
                <div class="hide-on-sm pure-u-md-10-24"><span>Description</span></div>
                <div class="hide-on-sm pure-u-md-4-24"><span>Time</span></div>
                <div class="hide-on-sm pure-u-md-4-24"><span>Actions</span></div>
            </div>

            <!-- Grouped Activities -->
            {% for activity_group in data.activities %}
                <div class="activity-group">
                    <div class="activity-group-header">
                        <div class="pure-g">
                            <div class="hide-on-sm pure-u-md-15-24"></div>
                            <div class="pure-u-2-3 pure-u-md-5-24">
                                <span>Total: {{ activity_group.duration.hours }}h {{ activity_group.duration.minutes }}m</span>
                                <button class="pure-button button-xsmall button-success" title="Create">+</button>
                            </div>
                            <div class="pure-u-1-4 pure-u-md-4-24">
                                <span class="date">{{ activity_group.date }}</span>
                            </div>
                        </div>
                    </div>
                    {% for item in activity_group.items %}
                        <form class="pure-form">
                            <div class="activity-item pure-g">
                                <div class="pure-u-1 pure-u-md-3-24 project">
                                    <span>{{ item.projectName | default('Default') }}</span></div>
                                <div class="pure-u-1 pure-u-md-3-24 activity-type activity-type-{{ item.type }}" title="{{ item.type | capitalize }}">
                                    {% if item.type == 'work' %}
                                        <i class="si-briefcase"></i>
                                    {% elseif item.type == 'sickness' %}
                                        <i class="si-user-minus"></i>
                                    {% elseif item.type == 'vacation' %}
                                        <i class="si-globe"></i>
                                    {% endif %}
                                    <span class="name">{{ item.type | capitalize }}</span>
                                </div>
                                <div class="pure-u-1-1 pure-u-md-10-24"><span>{{ item.description }}</span></div>
                                <div class="pure-u-1-1 pure-u-md-4-24">
                                    <span>{{ item.duration.hours }}h {{ item.duration.minutes }}m</span>
                                </div>
                                <div class="pure-u-1-1 pure-u-md-4-24 actions">
                                    <button class="pure-button button-secondary button-xsmall">Edit</button>
                                    <button class="pure-button button-error button-xsmall">Delete</button>
                                </div>
                            </div>
                        </form>
                    {% endfor %}
                </div>
            {% endfor %}
            <!-- Pagination -->
            <div class="pure-g">
                <div class="pure-u-1 pagination">
                    <button
                            class="pure-button button-small button-secondary"
                            {% if data.hasPrevPage is same as(false) %} disabled{% endif %}
                    >
                        Previous
                    </button>
                    <button
                            class="pure-button button-small button-secondary"
                            {% if data.hasNextPage is same as(false) %} disabled{% endif %}
                    >
                        Next
                    </button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
